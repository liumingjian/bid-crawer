# 招标信息爬虫系统 - 需求文档

## 1. 项目概述

### 1.1 项目背景
为及时获取国内主流招标网站的招标信息，特别是金融、医疗、运营商等行业的IT运维、数据库、大数据相关项目招标，需要开发一套自动化爬虫系统。

### 1.2 项目目标
- 自动采集多个招标网站的招标公告
- 按行业、关键词精准筛选目标招标信息
- 生成美观易读的HTML报告
- 支持灵活的配置管理，便于需求调整

## 2. 功能需求

### 2.1 数据采集功能

#### 2.1.1 目标网站（初始配置）
| 网站名称 | 网址 | 说明 |
|---------|------|------|
| 中国政府采购网 | https://www.ccgp.gov.cn | 政府采购主站 |
| 中国招标投标公共服务平台 | http://www.cebpubservice.com | 综合招标平台 |
| 中国采购与招标网 | https://www.chinabidding.cn | 综合招标信息 |
| 全国公共资源交易平台 | http://www.ggzy.gov.cn | 公共资源交易 |
| 中国招标网 | https://www.okcis.cn | 综合招标网 |

> 注：实际爬取时需遵守各网站robots.txt规则和使用条款

#### 2.1.2 目标行业/对象
- 金融机构（银行、证券、保险、基金）
- 医疗机构（医院、卫健委、疾控中心）
- 运营商（移动、联通、电信、广电）
- 政府机关（省市级政务中心、大数据局）
- 能源企业（电力、石油、燃气）
- 高校/教育机构

#### 2.1.3 关键词配置
**技术关键词：**
- 数据库：GaussDB、OceanBase、TiDB、达梦、人大金仓、MySQL、Oracle、PostgreSQL
- 大数据：Hadoop、CDH、Cloudera、Spark、Hive、HBase、Kafka、Flink、ClickHouse、Doris
- 中间件：Redis、RabbitMQ、Nginx、Tomcat、WebLogic、消息队列
- 运维服务：维保、运维、技术支持、驻场服务、运营服务

**业务关键词：**
- 数据中台、数据治理、数据仓库、ETL、数据同步
- 信创、国产化替代、自主可控
- 云平台、私有云、混合云

### 2.2 数据筛选功能

#### 2.2.1 筛选规则
- 标题匹配：招标标题包含任意配置关键词
- 行业匹配：招标单位名称包含目标行业关键词
- 时间筛选：支持按发布日期筛选（默认近7天）
- 金额筛选：支持按预算金额范围筛选（可选）

#### 2.2.2 去重规则
- 基于招标编号去重
- 基于标题+发布时间去重

### 2.3 报告生成功能

#### 2.3.1 HTML报告内容
- 报告生成时间
- 数据统计摘要（总数、各网站数量、各行业数量）
- 招标信息列表，包含：
  - 招标标题（带原文链接）
  - 招标编号
  - 招标单位
  - 发布日期
  - 截止日期
  - 预算金额
  - 所属行业（自动分类）
  - 匹配关键词（高亮显示）
  - 来源网站

#### 2.3.2 报告功能
- 支持按行业分组展示
- 支持按时间排序
- 支持关键词搜索过滤
- 响应式设计，支持移动端查看

### 2.4 配置管理功能

#### 2.4.1 配置文件结构
```yaml
# config.yaml 示例结构
crawler:
  request_delay: 2          # 请求间隔(秒)
  timeout: 30               # 超时时间(秒)
  retry_times: 3            # 重试次数
  user_agent: "Mozilla/5.0..."

filters:
  date_range: 7             # 采集最近N天
  min_amount: 0             # 最小金额(万元)
  max_amount: 0             # 最大金额(万元)，0表示不限

targets:
  industries:               # 目标行业
    - name: "金融"
      keywords: ["银行", "证券", "保险", "基金"]
    - name: "医疗"
      keywords: ["医院", "卫健", "疾控"]
    # ...

  tech_keywords:            # 技术关键词
    - "维保"
    - "数据库"
    - "GaussDB"
    # ...

websites:                   # 目标网站
  - name: "中国政府采购网"
    url: "https://www.ccgp.gov.cn"
    enabled: true
    parser: "ccgp"          # 对应解析器
  # ...

output:
  report_dir: "./reports"
  report_name: "bid_report_{date}.html"
  keep_days: 30             # 报告保留天数
```

### 2.5 自动化运行

#### 2.5.1 环境要求
- Python 3.9+
- 使用虚拟环境隔离依赖
- 支持定时任务（cron/计划任务）

#### 2.5.2 运行模式
- 手动运行：命令行执行
- 定时运行：每日自动采集
- 增量模式：只采集新增招标信息

## 3. 非功能需求

### 3.1 性能要求
- 单网站采集时间 < 5分钟
- 总采集时间 < 30分钟
- 报告生成时间 < 10秒

### 3.2 稳定性要求
- 支持断点续采
- 异常自动重试
- 详细日志记录

### 3.3 可维护性要求
- 模块化设计，便于新增网站
- 配置与代码分离
- 完善的注释和文档

### 3.4 合规性要求
- 遵守目标网站robots.txt
- 合理设置请求频率，避免对目标网站造成压力
- 仅采集公开信息

## 4. 约束与限制

### 4.1 技术约束
- 部分网站可能有反爬机制，需要特殊处理
- 部分网站数据结构可能变化，需要定期维护
- 验证码页面暂不支持自动处理

### 4.2 法律约束
- 采集的信息仅供内部参考使用
- 不得用于商业销售
- 遵守相关法律法规

## 5. 验收标准

### 5.1 功能验收
- [ ] 能成功采集至少3个网站的招标信息
- [ ] 配置文件修改后能正确生效
- [ ] 生成的HTML报告格式正确、信息完整
- [ ] 关键词筛选功能正常

### 5.2 质量验收
- [ ] 代码通过pylint检查
- [ ] 关键功能有单元测试
- [ ] 运行无报错，日志记录完整

## 6. 交付物

1. 源代码（含完整注释）
2. 配置文件模板
3. 需求文档（本文档）
4. 开发文档（技术设计）
5. 使用说明文档
6. 示例报告
